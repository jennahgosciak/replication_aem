----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Jennah\iCloudDrive\Desktop\Wagner\AEM\Replication/Programs/01_produce_datafile.log
  log type:  text
 opened on:   1 Dec 2021, 16:03:54

. 
. *---------------------------------------------------------------------------------------------------
. *  Course:      Advanced Empirical Methods
. *  Date:        10/13/2021
. *  Author:      Jennah Gosciak
. *  Assgnmt: Replication descriptives
. *---------------------------------------------------------------------------------------------------
. 
. *---------------------------------------------------------------------------------------------------
. * LOAD DATA + SIMPLE DESCRIPTIVES
. *---------------------------------------------------------------------------------------------------
. use "${root}/`data'", clear

. count 
  11,343,120

. 
. * create varlist
. preserve 

.         desc *, clear replace

.         list *

     +----------------------------------------------------------------------------------------------------------------------------------------------+
     | position             name     type   isnume~c   format              vallab                                                            varlab |
     |----------------------------------------------------------------------------------------------------------------------------------------------|
  1. |        1          stateus     byte          1   %20.0g          stateuslbl                                              State, United States |
  2. |        2     us80a_serial   double          1   %10.0g                                                               Household serial number |
  3. |        3   us80a_statefip     byte          1   %20.0g   us80a_statefiplbl                                                 State (FIPS code) |
  4. |        4    us80a_ftotinc     long          1   %12.0g                                                                   Total family income |
  5. |        5           momloc      int          1    %8.0g                                                        Mother's location in household |
     |----------------------------------------------------------------------------------------------------------------------------------------------|
  6. |        6          parrule     byte          1   %55.0g          parrulelbl                                           Rule for linking parent |
  7. |        7              age      int          1   %20.0g              agelbl                                                               Age |
  8. |        8              sex     byte          1    %8.0g              sexlbl                                                               Sex |
  9. |        9          agemarr     byte          1   %21.0g          agemarrlbl                                             Age at first marriage |
 10. |       10             race     byte          1   %36.0g             racelbl                                                              Race |
     |----------------------------------------------------------------------------------------------------------------------------------------------|
 11. |       11           hispan      int          1   %31.0g           hispanlbl                                    Hispanic origin, United States |
 12. |       12           school     byte          1   %24.0g           schoollbl                                                 School attendance |
 13. |       13          edattan     byte          1   %27.0g          edattanlbl    Educational attainment, international recode [general version] |
 14. |       14         edattand      int          1   %47.0g         edattandlbl   Educational attainment, international recode [detailed version] |
 15. |       15           yrschl     byte          1   %29.0g           yrschllbl                                                Years of schooling |
     |----------------------------------------------------------------------------------------------------------------------------------------------|
 16. |       16           educus      int          1   %46.0g           educuslbl                             Educational attainment, United States |
 17. |       17     us80a_pernum     byte          1    %8.0g     us80a_pernumlbl                                      Person number in sample unit |
 18. |       18     us80a_momloc     byte          1    %8.0g     us80a_momloclbl                                 Mothers location in the household |
 19. |       19    us80a_momrule     byte          1   %44.0g    us80a_momrulelbl                                           Rule for linking mother |
 20. |       20      us80a_sploc     byte          1    %8.0g      us80a_sploclbl                                     Spouses location in household |
     |----------------------------------------------------------------------------------------------------------------------------------------------|
 21. |       21     us80a_nchild     byte          1   %10.0g     us80a_nchildlbl                               Number of own children in household |
 22. |       22        us80a_age     byte          1   %20.0g        us80a_agelbl                                                               Age |
 23. |       23        us80a_sex     byte          1    %8.0g        us80a_sexlbl                                                               Sex |
 24. |       24       us80a_race     byte          1   %31.0g       us80a_racelbl                                                              Race |
 25. |       25      us80a_marst     byte          1   %23.0g      us80a_marstlbl                                                    Marital status |
     |----------------------------------------------------------------------------------------------------------------------------------------------|
 26. |       26    us80a_agemarr     byte          1   %21.0g    us80a_agemarrlbl                                             Age at first marriage |
 27. |       27     us80a_marrno     byte          1   %23.0g     us80a_marrnolbl                                                     Times married |
 28. |       28     us80a_chborn     byte          1   %21.0g     us80a_chbornlbl                                                Children ever born |
 29. |       29    us80a_marrqtr     byte          1   %25.0g    us80a_marrqtrlbl                                         Quarter of first marriage |
 30. |       30        us80a_bpl     long          1   %34.0g        us80a_bpllbl                                                        Birthplace |
     |----------------------------------------------------------------------------------------------------------------------------------------------|
 31. |       31     us80a_hispan     byte          1   %13.0g     us80a_hispanlbl                                                   Hispanic origin |
 32. |       32     us80a_school     byte          1   %17.0g     us80a_schoollbl                                                 School attendence |
 33. |       33    us80a_higrade      int          1   %36.0g    us80a_higradelbl                                        Highest grade of schooling |
 34. |       34   us80a_classwkr     byte          1   %31.0g   us80a_classwkrlbl                                                   Class of worker |
 35. |       35   us80a_wkswork1     byte          1   %21.0g   us80a_wkswork1lbl                                            Weeks worked last year |
     |----------------------------------------------------------------------------------------------------------------------------------------------|
 36. |       36   us80a_uhrswork     byte          1   %21.0g   us80a_uhrsworklbl                                       Usual hours worked per week |
 37. |       37    us80a_incwage     long          1   %12.0g                                                                Wage and salary income |
 38. |       38    us80a_poverty      int          1    %8.0g                                                                        Poverty status |
 39. |       39     us80a_incbus     long          1   %12.0g                                                              Non-farm business income |
 40. |       40   us80a_incwelfr     long          1   %12.0g                                                    Welfare (public assistance) income |
     |----------------------------------------------------------------------------------------------------------------------------------------------|
 41. |       41      us80a_widow     byte          1   %21.0g      us80a_widowlbl                                           Marriage ended by death |
 42. |       42   us80a_birthqtr     byte          1   %25.0g   us80a_birthqtrlbl                                                  Quarter of birth |
 43. |       43       us80a_qage     byte          1   %24.0g       us80a_qagelbl                                                      Flag for age |
 44. |       44   us80a_qbirthmo     byte          1   %20.0g   us80a_qbirthmolbl                                         Flag for quarter of birth |
 45. |       45       us80a_qbpl     byte          1   %16.0g       us80a_qbpllbl                                               Flag for birthplace |
     |----------------------------------------------------------------------------------------------------------------------------------------------|
 46. |       46    us80a_qchborn     byte          1   %37.0g    us80a_qchbornlbl                                       Flag for children ever born |
 47. |       47      us80a_qeduc     byte          1   %19.0g      us80a_qeduclbl      Flag for education attainment and highest grade of schooling |
 48. |       48    us80a_qincbus     byte          1   %27.0g    us80a_qincbuslbl              Flag for non-farm business and total personal income |
 49. |       49   us80a_qincwage     byte          1   %13.0g   us80a_qincwagelbl                Flag for wage and salary and total personal income |
 50. |       50       us80a_qsex     byte          1   %13.0g       us80a_qsexlbl                                                      Flag for sex |
     |----------------------------------------------------------------------------------------------------------------------------------------------|
 51. |       51   us80a_quhrswor     byte          1   %13.0g   us80a_quhrsworlbl                              Flag for usual hours worked per week |
 52. |       52   us80a_qwkswork     byte          1   %19.0g   us80a_qwksworklbl                                   Flag for weeks worked last year |
     +----------------------------------------------------------------------------------------------------------------------------------------------+

.         export excel using "${out}/varlist.xlsx", replace firstrow(variables) keepcellfmt
file C:\Users\Jennah\iCloudDrive\Desktop\Wagner\AEM\Replication/Output/varlist.xlsx saved

. restore 

. 
. * load data, put in mom exclusion criteria, then exclude them?
. * identified mom's that we're interested in
. * generated children of the mom's that we're interested in
. * then split them
. 
. * drop nkids != total household kids
. * 
. 
. * do age restrictions and age of second child, two or more kids
. * do the drop if own children is different than number of children 
. 
. drop agemarr us80a_momloc age sex hispan school race

. *drop us80a_agemarr us80a_momloc us80a_age us80a_sex us80a_hispan us80a_school us80a_race
. ren us80a_* *

. 
. *gen age_qtr = (age*4) + birthqtr
. *tablist age_qtr age birthqtr, sort(v) ab(30) clean
. 
. gen birthfrac = 1-(birthqtr/4)

. gen age_qtr = age + birthfrac

. 
. * Initial constructs
. * Race and ethnicity
. * indicator for Black
. tablist race, sort(v) 

  +-------------------------------------------------------------------------+
  |                            race    _Freq_   _Perc_    _CFreq_   _CPerc_ |
  |-------------------------------------------------------------------------|
  |                           White   9451623    83.32    9451623     83.32 |
  |                Spanish write-in    251072     2.21    9702695     85.54 |
  |                     Black/Negro   1333966    11.76   11036661     97.30 |
  |   American Indian/Alaska Native     76984     0.68   11113645     97.98 |
  |                         Chinese     40681     0.36   11154326     98.34 |
  |-------------------------------------------------------------------------|
  |                        Japanese     36024     0.32   11190350     98.65 |
  |                        Filipino     40105     0.35   11230455     99.01 |
  |                    Asian Indian     19781     0.17   11250236     99.18 |
  |                          Korean     18138     0.16   11268374     99.34 |
  |                 Native Hawaiian      8895     0.08   11277269     99.42 |
  |-------------------------------------------------------------------------|
  |                      Vietnamese     12663     0.11   11289932     99.53 |
  | Other Asian or Pacific Islander     12703     0.11   11302635     99.64 |
  |              Other race, n.e.c.     40485     0.36   11343120    100.00 |
  +-------------------------------------------------------------------------+

. gen     r_black =       (race == 3) if !mi(race) 

. tablist r_black          race, sort(v) ab(30) clean

    r_black                              race    _Freq_   _Perc_    _CFreq_   _CPerc_  
          0                             White   9451623    83.32    9451623     83.32  
          0                  Spanish write-in    251072     2.21    9702695     85.54  
          0     American Indian/Alaska Native     76984     0.68    9779679     86.22  
          0                           Chinese     40681     0.36    9820360     86.58  
          0                          Japanese     36024     0.32    9856384     86.89  
          0                          Filipino     40105     0.35    9896489     87.25  
          0                      Asian Indian     19781     0.17    9916270     87.42  
          0                            Korean     18138     0.16    9934408     87.58  
          0                   Native Hawaiian      8895     0.08    9943303     87.66  
          0                        Vietnamese     12663     0.11    9955966     87.77  
          0   Other Asian or Pacific Islander     12703     0.11    9968669     87.88  
          0                Other race, n.e.c.     40485     0.36   10009154     88.24  
          1                       Black/Negro   1333966    11.76   11343120    100.00  

. 
. *gen    hisp = (inlist(hispan, 1, 2, 3, 4) | race == 2) if !mi(hispan)
. gen     hisp = (race == 2) if !mi(race)

. tablist hisp hispan race, sort(v) ab(30)

  +------------------------------------------------------------------------------------------------+
  | hisp          hispan                              race    _Freq_   _Perc_    _CFreq_   _CPerc_ |
  |------------------------------------------------------------------------------------------------|
  |    0    Not Hispanic                             White   9025310    79.57    9025310     79.57 |
  |    0    Not Hispanic                       Black/Negro   1313902    11.58   10339212     91.15 |
  |    0    Not Hispanic     American Indian/Alaska Native     71912     0.63   10411124     91.78 |
  |    0    Not Hispanic                           Chinese     40253     0.35   10451377     92.14 |
  |    0    Not Hispanic                          Japanese     35625     0.31   10487002     92.45 |
  |------------------------------------------------------------------------------------------------|
  |    0    Not Hispanic                          Filipino     34159     0.30   10521161     92.75 |
  |    0    Not Hispanic                      Asian Indian     19400     0.17   10540561     92.92 |
  |    0    Not Hispanic                            Korean     17954     0.16   10558515     93.08 |
  |    0    Not Hispanic                   Native Hawaiian      8095     0.07   10566610     93.15 |
  |    0    Not Hispanic                        Vietnamese     12508     0.11   10579118     93.26 |
  |------------------------------------------------------------------------------------------------|
  |    0    Not Hispanic   Other Asian or Pacific Islander     11861     0.10   10590979     93.37 |
  |    0    Not Hispanic                Other race, n.e.c.     10998     0.10   10601977     93.47 |
  |    0         Mexican                             White    243038     2.14   10845015     95.61 |
  |    0         Mexican                       Black/Negro      8252     0.07   10853267     95.68 |
  |    0         Mexican     American Indian/Alaska Native      3121     0.03   10856388     95.71 |
  |------------------------------------------------------------------------------------------------|
  |    0         Mexican                           Chinese        88     0.00   10856476     95.71 |
  |    0         Mexican                          Japanese       148     0.00   10856624     95.71 |
  |    0         Mexican                          Filipino       580     0.01   10857204     95.72 |
  |    0         Mexican                      Asian Indian        75     0.00   10857279     95.72 |
  |    0         Mexican                            Korean        28     0.00   10857307     95.72 |
  |------------------------------------------------------------------------------------------------|
  |    0         Mexican                   Native Hawaiian        97     0.00   10857404     95.72 |
  |    0         Mexican                        Vietnamese        25     0.00   10857429     95.72 |
  |    0         Mexican   Other Asian or Pacific Islander        74     0.00   10857503     95.72 |
  |    0         Mexican                Other race, n.e.c.     18497     0.16   10876000     95.88 |
  |    0    Puerto Rican                             White     49103     0.43   10925103     96.31 |
  |------------------------------------------------------------------------------------------------|
  |    0    Puerto Rican                       Black/Negro      3597     0.03   10928700     96.35 |
  |    0    Puerto Rican     American Indian/Alaska Native       177     0.00   10928877     96.35 |
  |    0    Puerto Rican                           Chinese        43     0.00   10928920     96.35 |
  |    0    Puerto Rican                          Japanese        46     0.00   10928966     96.35 |
  |    0    Puerto Rican                          Filipino       235     0.00   10929201     96.35 |
  |------------------------------------------------------------------------------------------------|
  |    0    Puerto Rican                      Asian Indian        45     0.00   10929246     96.35 |
  |    0    Puerto Rican                            Korean        11     0.00   10929257     96.35 |
  |    0    Puerto Rican                   Native Hawaiian       179     0.00   10929436     96.35 |
  |    0    Puerto Rican                        Vietnamese         4     0.00   10929440     96.35 |
  |    0    Puerto Rican   Other Asian or Pacific Islander        29     0.00   10929469     96.35 |
  |------------------------------------------------------------------------------------------------|
  |    0    Puerto Rican                Other race, n.e.c.      4406     0.04   10933875     96.39 |
  |    0           Cuban                             White     34448     0.30   10968323     96.70 |
  |    0           Cuban                       Black/Negro      1189     0.01   10969512     96.71 |
  |    0           Cuban     American Indian/Alaska Native        27     0.00   10969539     96.71 |
  |    0           Cuban                           Chinese        44     0.00   10969583     96.71 |
  |------------------------------------------------------------------------------------------------|
  |    0           Cuban                          Japanese         7     0.00   10969590     96.71 |
  |    0           Cuban                          Filipino         4     0.00   10969594     96.71 |
  |    0           Cuban                      Asian Indian         9     0.00   10969603     96.71 |
  |    0           Cuban                            Korean         9     0.00   10969612     96.71 |
  |    0           Cuban                        Vietnamese         1     0.00   10969613     96.71 |
  |------------------------------------------------------------------------------------------------|
  |    0           Cuban   Other Asian or Pacific Islander         2     0.00   10969615     96.71 |
  |    0           Cuban                Other race, n.e.c.      1062     0.01   10970677     96.72 |
  |    0   Other Spanish                             White     99724     0.88   11070401     97.60 |
  |    0   Other Spanish                       Black/Negro      7026     0.06   11077427     97.66 |
  |    0   Other Spanish     American Indian/Alaska Native      1747     0.02   11079174     97.67 |
  |------------------------------------------------------------------------------------------------|
  |    0   Other Spanish                           Chinese       253     0.00   11079427     97.68 |
  |    0   Other Spanish                          Japanese       198     0.00   11079625     97.68 |
  |    0   Other Spanish                          Filipino      5127     0.05   11084752     97.72 |
  |    0   Other Spanish                      Asian Indian       252     0.00   11085004     97.72 |
  |    0   Other Spanish                            Korean       136     0.00   11085140     97.73 |
  |------------------------------------------------------------------------------------------------|
  |    0   Other Spanish                   Native Hawaiian       524     0.00   11085664     97.73 |
  |    0   Other Spanish                        Vietnamese       125     0.00   11085789     97.73 |
  |    0   Other Spanish   Other Asian or Pacific Islander       737     0.01   11086526     97.74 |
  |    0   Other Spanish                Other race, n.e.c.      5522     0.05   11092048     97.79 |
  |    1    Not Hispanic                  Spanish write-in      2389     0.02   11094437     97.81 |
  |------------------------------------------------------------------------------------------------|
  |    1         Mexican                  Spanish write-in    164567     1.45   11259004     99.26 |
  |    1    Puerto Rican                  Spanish write-in     43876     0.39   11302880     99.65 |
  |    1           Cuban                  Spanish write-in      4304     0.04   11307184     99.68 |
  |    1   Other Spanish                  Spanish write-in     35936     0.32   11343120    100.00 |
  +------------------------------------------------------------------------------------------------+

. 
. gen     r_oth = (inrange(race, 4, 13)) if !mi(race)

. tablist r_oth            race, sort(v) ab(30) clean

    r_oth                              race    _Freq_   _Perc_    _CFreq_   _CPerc_  
        0                             White   9451623    83.32    9451623     83.32  
        0                  Spanish write-in    251072     2.21    9702695     85.54  
        0                       Black/Negro   1333966    11.76   11036661     97.30  
        1     American Indian/Alaska Native     76984     0.68   11113645     97.98  
        1                           Chinese     40681     0.36   11154326     98.34  
        1                          Japanese     36024     0.32   11190350     98.65  
        1                          Filipino     40105     0.35   11230455     99.01  
        1                      Asian Indian     19781     0.17   11250236     99.18  
        1                            Korean     18138     0.16   11268374     99.34  
        1                   Native Hawaiian      8895     0.08   11277269     99.42  
        1                        Vietnamese     12663     0.11   11289932     99.53  
        1   Other Asian or Pacific Islander     12703     0.11   11302635     99.64  
        1                Other race, n.e.c.     40485     0.36   11343120    100.00  

. 
. tablist r_black hisp r_oth race, sort(v) ab(30) clean

    r_black   hisp   r_oth                              race    _Freq_   _Perc_    _CFreq_   _CPerc_  
          0      0       0                             White   9451623    83.32    9451623     83.32  
          0      0       1     American Indian/Alaska Native     76984     0.68    9528607     84.00  
          0      0       1                           Chinese     40681     0.36    9569288     84.36  
          0      0       1                          Japanese     36024     0.32    9605312     84.68  
          0      0       1                          Filipino     40105     0.35    9645417     85.03  
          0      0       1                      Asian Indian     19781     0.17    9665198     85.21  
          0      0       1                            Korean     18138     0.16    9683336     85.37  
          0      0       1                   Native Hawaiian      8895     0.08    9692231     85.45  
          0      0       1                        Vietnamese     12663     0.11    9704894     85.56  
          0      0       1   Other Asian or Pacific Islander     12703     0.11    9717597     85.67  
          0      0       1                Other race, n.e.c.     40485     0.36    9758082     86.03  
          0      1       0                  Spanish write-in    251072     2.21   10009154     88.24  
          1      0       0                       Black/Negro   1333966    11.76   11343120    100.00  

. 
. *---------------------------------------------------------------------------------------------------
. * RESHAPE DATA
. *---------------------------------------------------------------------------------------------------
. * Filter for children
. preserve

.         keep serial momloc sex age birthqtr qsex qage qbirthmo age_qtr

. 
.         keep if momloc != 0 // filter to respondent who has a mother in sample
(7,427,689 observations deleted)

. 
.         gen birthyr = 1980 - age

. 
.         * reverse order, oldest (= first child) should be first
.         *bysort serial momloc (age_qtr): gen sort_order = _n
.         *bysort serial momloc (age_qtr): gen child_order = (_N - _n) + 1
.         
.         bysort serial momloc (birthyr birthqtr): gen child_order = _n

.         sum child_order

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
 child_order |  3,915,431    1.806634    1.070232          1         17

.         drop birthyr

. 
.         *tablist child_order sort_order, sort(v) ab(30) clean
. 
.         reshape wide sex age age_qtr birthqtr qsex qage qbirthmo, i(serial momloc) j(child_order)
(j = 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations        3,915,431   ->   1,982,935   
Number of variables                  10   ->   121         
j variable (17 values)      child_order   ->   (dropped)
xij variables:
                                    sex   ->   sex1 sex2 ... sex17
                                    age   ->   age1 age2 ... age17
                                age_qtr   ->   age_qtr1 age_qtr2 ... age_qtr17
                               birthqtr   ->   birthqtr1 birthqtr2 ... birthqtr17
                                   qsex   ->   qsex1 qsex2 ... qsex17
                                   qage   ->   qage1 qage2 ... qage17
                               qbirthmo   ->   qbirthmo1 qbirthmo2 ... qbirthmo17
-----------------------------------------------------------------------------

. 
.         * restricted to women for whom the reported values of age and 
.         * sex of their two oldest children
.         * were not allocated by the US Census Bureau
. 
.         * drop all the flags equal to 1???
.         * angrist and evans don't use observations with flagged or allocated values
.         /*
>         keep if (qsex1 == 0 & /// 
>                          qsex2 == 0 & ///
>                          qage1 == 0 & /// 
>                          qage2 == 0 & ///
>                          qbirthmo1 == 0 & qbirthmo2 == 0) //& qage1 == 0 & & qage2 == 0 &)
>         */
. 
.         keep if qsex1 == 0
(16,933 observations deleted)

.         keep if qsex2 == 0
(827,335 observations deleted)

.         keep if qage1 == 0
(12,581 observations deleted)

.         keep if qage2 == 0
(6,187 observations deleted)

.         keep if qbirthmo1 == 0
(33,068 observations deleted)

.         keep if qbirthmo2 == 0
(30,998 observations deleted)

.         * if I don't use qbirthmo, I get too high of an estimate?
. 
.         ren momloc pernum // rename for merging later

.         isid serial pernum

. 
.         * file unique on serial and momloc
.         tempfile        momloc_data

.         save            "`momloc_data'", replace
(file C:\Users\Jennah\AppData\Local\Temp\ST_969c_000003.tmp not found)
file C:\Users\Jennah\AppData\Local\Temp\ST_969c_000003.tmp saved as .dta format

. restore 

. 
. * Filter for father
. preserve 

.         keep if sploc != 0 & sex == 1
(8,859,857 observations deleted)

.         keep serial sploc sex age birthqtr qsex qage qbirthmo age_qtr

. 
.         ren * *_father

.         ren (sploc_father serial_father) (pernum serial)

.         isid serial pernum

. 
.         tempfile        sploc_data

.         save            "`sploc_data'", replace
(file C:\Users\Jennah\AppData\Local\Temp\ST_969c_000005.tmp not found)
file C:\Users\Jennah\AppData\Local\Temp\ST_969c_000005.tmp saved as .dta format

. restore 

. 
. * merge back onto the original data fileusing serial and pernum
. merge 1:1 serial pernum using "`momloc_data'", nogen keep(3) // merge to children
(variable pernum was byte, now int to accommodate using data's values)
(label us80a_agelbl already defined)
(label us80a_sexlbl already defined)
(label us80a_birthqtrlbl already defined)
(label us80a_qagelbl already defined)
(label us80a_qbirthmolbl already defined)
(label us80a_qsexlbl already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         1,055,833  
    -----------------------------------------

. merge 1:1 serial pernum using "`sploc_data'", keep(1 3) // merge to fathers
(label us80a_qsexlbl already defined)
(label us80a_qbirthmolbl already defined)
(label us80a_qagelbl already defined)
(label us80a_birthqtrlbl already defined)
(label us80a_sexlbl already defined)
(label us80a_agelbl already defined)
(label us80a_sploclbl already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       186,292
        from master                   186,292  (_merge==1)
        from using                          0  (_merge==2)

    Matched                           869,541  (_merge==3)
    -----------------------------------------

. 
. ren _merge _father_merge

. count
  1,055,833

. 
end of do-file

